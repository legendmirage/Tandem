<!--Student Profile Page
	Main author: jcweaver

    Notes: Search Bar To Be implemented in future?
-->
<html>

<title>Student Profile Page </title>

<head>
	<div> <em>placeholder for navbar</em></div>

    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css">
    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="external_js/jquery-1.8.3.js"></script>
    <script src="external_js/jquery-1.9.0.min.js"></script>
    <script src="external_js/jquery.ui.datepicker.js"></script>
    <script src="external_js/jquery.ui.widget.js"></script>
    <script src="external_js/jquery.ui.core.js"></script>
	<link rel="stylesheet" type="text/css" href="jqtimeline/css/jquery.jqtimeline.css" />
	<link rel="stylesheet" type="text/css" href="css/profile.css" />
	<script type="text/javascript" src="jqtimeline/js/jquery.jqtimeline.js"></script>
    <script>
    $(function() {
        console.log($( "#datepicker" ));
        $( "#datepicker" ).datepicker();
    });
    </script>
</head>

<body>
    <div class="container">
        <div class="column-left">
            <img src="images/johnny_fox_prof.jpeg" alt="Johnny Fox profile image" class="prof">

         </div>
        <div class="column-center">
            <h1>Jonathon Fox</h1>
            <p><b><i>Preferred Name:</b></i> Johnny</p>
            <p><b><i>Date of Birth:</b></i> 5/20/2007</p>
            <p><b><i>Age:</b></i> 6</p>

         </div>
        <div class="column-right">
            <h2>Parents/Guardians</h2>
            <p>James Fox <a href="message.html"><img src="images/mailicon.png" alt="Send a message" class="contacticons"></a><a href=""><img src="images/callicon.png" alt="Call with Google Voice" width="30" height="30"></a></p>
            <p>Susan Fox<a href="message.html"><img src="images/mailicon.png" alt="Send a message" class="contacticons"></a><a href=""><img src="images/callicon.png" alt="Call with Google Voice" width="30" height="30"></a></p>
     
         </div>
     </div> 


	
	<div id="myTimeline"></div>
	

    <input id="addevent" type="button" name="new" value="+"/>

    <form id="overlay_form" style="display:none">
        <h2> Add an Event to the Timeline</h2>
        <label>Event Name: </label><input type="text" name="eventname" /><br /><br />
        <label>Event Date: </label><input type="text" name="eventdate" id="datepicker" /><br /><br />
        <input id="submitform" type="button" value="Submit" />
        <a href="#" id="close" >Close</a>
    </form>
	<!-- Initializing timeline with info for initial prototype -->
	<script type="text/javascript">
    var ev = [{
        id : 1,
        name : "Had fever",
        on : new Date(2014,2,11)
    },
    {
        id : 2,
        name : "Share",
        on : new Date(2014,2,21)
    },
    {
        id : 3,
        name : "Fight",
        on : new Date(2014,2,24)
    }]
        var tl = $('#myTimeline').jqtimeline({
        events : ev,
        numYears:2,
        startYear:2013,
        gap: 40,
        click:function(e,event){
            alert(event.name);
        }
    });
    $("#addevent").click(function(evt) {
        console.log("form");
        //display an input form for adding an event
        $("#overlay_form").fadeIn(1000);
        positionPopup();
    });
    $("#submitform").click(function(evt) {
        var timelineObj = $('#myTimeline').data('jqtimeline');
        console.log($('#overlay_form input[name="eventdate"]').val());
        //timelineObj.method();
        var numevents=timelineObj.getAllEvents().length;
        var eventObj = {id:numevents, name:$('input[name="eventname"]').val(), on : new Date($('input[name="eventdate"]').val())};
        timelineObj.addEvent(eventObj);
        $("#overlay_form").fadeOut(500);
    });


    //position the popup at the center of the page
    function positionPopup(){
        console.log("positioning");
        if(!$("#overlay_form").is(':visible')){
            return;
        }
        $("#overlay_form").css({
            left: ($(window).width() - $('#overlay_form').width()) / 2,
            top: ($(window).width() - $('#overlay_form').width()) / 7,
            position:'absolute'
        });
    }
    //close popup
    $("#close").click(function(){
        $("#overlay_form").fadeOut(500);
    });
</script>


</body>
</html>